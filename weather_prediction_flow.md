```mermaid
graph TD
    A[用户上传CSV文件] --> B{文件格式验证}
    B -->|验证失败| C[返回错误信息]
    B -->|验证通过| D{数据完整性检查}
    D -->|检查失败| E[返回错误信息]
    D -->|检查通过| F[存储到uploads目录]
    
    F --> G[数据预处理]
    
    G --> H[数据清洗]
    H --> H1[缺失值处理]
    H --> H2[异常值检测]
    H --> H3[删除重复数据]
    
    G --> I[特征工程]
    I --> I1[时间特征提取]
    I1 --> I1a[小时]
    I1 --> I1b[星期]
    I1 --> I1c[月份]
    
    I --> I2[滞后特征创建]
    I2 --> I2a[1小时滞后]
    I2 --> I2b[24小时滞后]
    I2 --> I2c[48小时滞后]
    
    I --> I3[滚动统计特征]
    I3 --> I3a[24小时移动平均]
    I3 --> I3b[24小时标准差]
    
    G --> J[数据标准化]
    J --> J1[降水量对数变换]
    J --> J2[StandardScaler标准化]
    J2 --> J2a[保存均值和标准差]
    
    J --> K[模型训练和预测]
    K --> L[预测结果反标准化]
    L --> L1[降水量指数变换]
    L --> L2[使用保存的均值和标准差]
    
    L --> M[输出预测结果]
```

## 数据说明

### 输入数据特征
- 时间
- 温度（摄氏度）
- 相对湿度（%）
- 降水量（mm）
- 气压（hPa）
- 云量（%）
- 风速（m/s）
- 天气代码（WMO标准）

### WMO天气代码
- 0: 晴天
- 1: 多云
- 2: 阴天
- 3: 阴天多云
- 51: 轻度毛毛雨
- 53: 中度毛毛雨
- 55: 重度毛毛雨
- 61: 小雨
- 63: 中雨
- 65: 大雨 